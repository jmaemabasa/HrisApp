@layout AuthLayout
@page "/"
@using HrisApp.Client.Global;
@inject IAuthService AuthService
@inject ILocalStorageService LocalStorage
@inject NavigationManager NavigationManager
@inject AuthenticationStateProvider AuthenticationStateProvider
@inject IToastService _toastService
@inject GlobalConfigService GlobalConfigService
@inject DummyGlobal _dummyGlobal

<style>
    .form-control {
        box-shadow: inset -5px -5px 10px #ffffff, inset 5px 5px 10px #bebebe;
        border-radius: 10px;
        border: 0;
        background-color: #e9ecef;
        padding: 0 15px 10px 25px;
        margin-top: 0px !important;
    }

    .btnlogin {
        border: none;
        box-shadow: -5px -5px 10px #ffffff, 5px 5px 10px #cacdcf;
        border-radius: 20px;
        background-color: #F1BC3A;
        color: #424242;
        padding: 14px 0px 10px 0px;
    }

        .btnlogin:hover {
        background-color: #E38D0F;
        color: #fff;
    }

    .card {
        background: #e9ecef;
        border: none;
        box-shadow: -5px -5px 10px #ffffff, 5px 5px 10px #cacdcf;
        border-radius: 20px;
    }
</style>
<MudCard Elevation="0" Style="background: #e9ecef">
    <MudCardContent Class="d-flex justify-content-center">
        <MudItem sm="4" xs="12" Class="card p-5">
            <div class="d-flex flex-column align-items-center m-auto mb-3">
                <img src="./images/SonicSales.png" width="150px" alt="">
            </div>
            @if (_showAlert)
            {
                <MudAlert Severity="@_severity" ShowCloseIcon="true" CloseIconClicked="CloseMe" Class="mb-2">@_message</MudAlert>
            }
            <EditForm Model="@_log" OnValidSubmit="@HandleLogin">
                <div class="mb-2">
                    <div class="d-flex flex-column mb-3">
                        <MudText Typo="Typo.caption" Style="font-size: 16px">Username</MudText>
                        <MudTextField DisableUnderLine @bind-Value="_log.Username" Class="form-control" Immediate=true Margin="Margin.Normal"></MudTextField>
                     </div>
                    <div class="d-flex flex-column">
                        <MudText Typo="Typo.caption" Style="font-size: 16px">Password</MudText>
                         <MudTextField DisableUnderLine @bind-Value="_log.Password" Margin="Margin.Normal" InputType="@_passwordInput" Adornment="Adornment.End" AdornmentIcon="@_passwordInputIcon" OnAdornmentClick="ButtonTestclick" AdornmentAriaLabel="Show Password" Class="form-control" />
                     </div>
                 </div>
                 <div class="d-flex flex-grow-1 flex-column gap-3">
                    <div class="d-flex justify-content-end mb-3">
                        <MudSpacer/>
                        <a href="/register" class="w-auto"><small>Forgot your password?</small></a>
                    </div>
                     <MudButton Class="btnlogin" Disabled="@_processing" ButtonType="ButtonType.Submit">
                         @if (_processing)
                        {
                            <MudProgressCircular Class="ms-n1" Size="Size.Small" Indeterminate="true" />
                            <MudText Class="ms-2">Logging In</MudText>
                        }
                        else
                        {
                            <MudText>Login</MudText>
                        }
                    </MudButton>
                 </div>
             </EditForm>
        </MudItem>
       
    </MudCardContent>
</MudCard>