@page "/dashboard"
@inject IDivisionService DivisionService
@inject IDepartmentService DepartmentService
@inject ISectionService SectionService
@inject IPositionService PositionService
@inject IAddressService AddressService
@inject IAreaService AreaService
@inject IEmployeeService EmployeeService
@inject IToastService _toastService
@inject IImageService ImageService
@inject IEducationService EducationService
@inject IPayrollService PayrollService
@inject ILicenseTrainingService LicenseTrainingService
@inject IEmployeeService EmployeeService
@inject NavigationManager NavigationManager
@inject SweetAlertService Swal
@inject IToastService _toastService
@inject NavigationManager NavigationManager
@inject IJSRuntime JSRuntime
@inject GlobalConfigService GlobalConfigService
@inject AuditlogGlobal AuditlogGlobal

@attribute [Authorize(Roles = "System Administrator, HR, User")]

<PageTitle>Dashboard</PageTitle>

<MudGrid Spacing="4">
    <MudItem xs="12">
        <MudCard Class="evalpanel">
            <MudCardContent Class="d-flex h-100 flex-column justify-content-between flex-grow-1">
                    <div class="d-flex flex-column gap-2">
                        <span style="font-size: 24px;">Welcome, <b>@FULLNAME</b>!</span>
                        <span style="font-size: 20px;">You have @_countForEval employees pending for evaluation!</span>
                    </div>
                    <div class="">
                        <MudButton id="evalpanelbtn" OnClick="NavForEval" Class="btnadd">Check Now</MudButton>
                    </div>
            </MudCardContent>
        </MudCard>
    </MudItem>
    <MudItem xs="12" sm="4">
        <TopCards title="Total Vacancies as of Today" value="@_totalVacancy.ToString()" icon="@Icons.Material.TwoTone.RunningWithErrors" iconColor="font-size: 6rem; color: #E97777" OnCardClick=@(()=>NavIconBtns("vacancy")) OnIconClick=@(()=>NavIconBtns("vacancy")) />
    </MudItem>
    <MudItem xs="12" sm="4">
        <TopCards title="Total Active Employees" value="@_countActiveEmployees" icon="@Icons.Material.TwoTone.Person4" iconColor="font-size: 6rem; color: #427D9D" OnIconClick="@(()=>NavIconBtns("employee"))" />
    </MudItem>
    <MudItem xs="12" sm="4">
        <TopCards title="Total Inactive Employees" value="@_countInactiveEmployees" icon="@Icons.Material.TwoTone.PersonOff" iconColor="font-size: 6rem; color: #FF9800" OnIconClick=@(()=>NavIconBtns("inactiveEmployee")) />
    </MudItem>
    @* <MudItem xs="12" sm="12">
        <MudCard Class="linepanel">
            <MudCardContent>
                <div style="width: 100%">
                    <MudChart ChartType="ChartType.Bar" ChartSeries="@Series" @bind-SelectedIndex="Ch_Index" XAxisLabels="@XAxisLabels" Width="100%" Height="350px"></MudChart>
                </div>
                <MudText Typo="Typo.h6">Selected portion of the chart: @Ch_Index</MudText>
            </MudCardContent>
        </MudCard>
    </MudItem> *@

</MudGrid>
