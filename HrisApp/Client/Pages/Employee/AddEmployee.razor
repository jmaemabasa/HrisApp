@page "/employee/add"
@inject IDivisionService DivisionService
@inject IDepartmentService DepartmentService
@inject ISectionService SectionService
@inject IPositionService PositionService
@inject IAddressService AddressService
@inject IAreaService AreaService
@inject IEmployeeService EmployeeService
@inject IToastService _toastService
@inject IImageService ImageService
@inject IEducationService EducationService
@inject IPayrollService PayrollService
@inject ILicenseTrainingService LicenseTrainingService
@inject NavigationManager NavigationManager
@inject SweetAlertService Swal
@inject IToastService _toastService
@inject NavigationManager NavigationManager
@inject IJSRuntime JSRuntime
@attribute [Authorize(Roles = "Admin")]

<div class="topnav d-flex justify-content-end align-items-center z-60">
    <MudButton OnClick="backbtn" Size="Size.Medium">Back</MudButton>
</div>
<div class="tabdiv">
    <MudButton Class="button" ButtonType="ButtonType.Submit" Variant="Variant.Outlined" Color="Color.Primary" @onclick="CreateEmployee" StartIcon="@Icons.Material.Filled.PersonAdd" Style="text-transform: none; position: absolute;left: 90%; z-index:10;top: 70px;">Create User</MudButton>
    <MudTabs Elevation="0" Rounded="true" ApplyEffectsToContainer="true" PanelClass="pa-6" @ref="tabs" @bind-ActivePanelIndex="activeIndex" Centered=true >

        @* ====================================================================================  JOB  ==================================================================================== *@
        <MudTabPanel TabContent="tabHeader(0)">
            <MudGrid>                
                <MudItem xs="12" lg="2"  style="z-index: 99">
                    <span class="spantitle mb-3">Image</span>
                    @if (imgBase64 == "./images/addIconImage.png")
                    {
                        <MudFileUpload T="IBrowserFile" OnFilesChanged="uploadImage" Accept="image/*" capture Style="margin-top: 35px">
                            <ButtonTemplate>
                                <MudButton Class="w-100 btnimage" DisableElevation HtmlTag="label" Variant="Variant.Outlined" for="@context">
                                    <div style="height: 240px; display: flex; justify-content: center; align-items: center; ">
                                        <MudImage Src="@imgBase64" Style="height: 100px; width: 100px; " />
                                    </div>
                                </MudButton>
                            </ButtonTemplate>
                         </MudFileUpload>
                    }
                    else
                    {
                        <MudFileUpload T="IBrowserFile" OnFilesChanged="uploadImage" Accept="image/*" capture Style="margin-top: 35px">
                            <ButtonTemplate>
                                <MudButton Class="w-100 btnimagewithimage" DisableElevation HtmlTag="label" for="@context">
                                     <div style="height: 240px; display: flex; justify-content: center; align-items: center;  border-radius: 20px; padding:10px 0 10px 0">
                                         <MudImage Src="@imgBase64" Style="height: 95%; width: auto; max-width:100%; border-radius: 20px; border: none; " />
                                     </div>
                                 </MudButton>
                             </ButtonTemplate>
                         </MudFileUpload>
                    }
                </MudItem>
                <EditForm Model="employee" OnValidSubmit="() => Activate(1)" class="d-flex flex-column flex-grow-1" style="margin-top: 13px;">
                    <DataAnnotationsValidator />
                
                    <MudItem xs="12" Class="paddingitem">
                        <span class="spantitle">Personal Information</span>
                        <MudCard Class="mdcard1 lfmargin" Elevation="0">
                            <MudCardContent>
                                <MudInputLabel>First Name</MudInputLabel>
                                <MudStack Row="true" Class="mb-2">
                                     <MudItem xs="12"><InputText class="txf1 w-100" @bind-Value="employee.FirstName" /></MudItem>
                                </MudStack>
                                <ValidationMessage For="@(() => employee.FirstName)" class="mb-2"/>  
                                <MudInputLabel>Middle Name</MudInputLabel>
                                <MudStack Row="true" Class="mb-2">
                                    <MudItem xs="12"><InputText Class="txf1 w-100" @bind-Value="employee.MiddleName" /></MudItem>
                                </MudStack>
                                <ValidationMessage For="@(() => employee.MiddleName)" class="mb-2"/>  

                                 <MudInputLabel>Last Name</MudInputLabel>
                                <MudStack Row="true" Class="mb-2">
                                    <MudItem xs="12"><InputText Class="txf1 w-100" @bind-Value="employee.LastName" /></MudItem>
                                </MudStack>
                                <ValidationMessage For="@(() => employee.LastName)" class="mb-2"/>  

                                <MudInputLabel>Email</MudInputLabel>
                                <MudStack Row="true" Class="mb-2">
                                     <MudItem xs="12">
                                            <InputText Class="txf1 w-100" @bind-Value="employee.Email" />
                                    </MudItem>
                                </MudStack>
                                    <ValidationMessage For="@(() => employee.Email)" class="mb-2" />
                                </MudCardContent>
                        </MudCard>
                    </MudItem>
                        <MudItem xs="12" Class="mt-3 paddingitem" >
                        <span class="spantitle">Work Information</span>
                         <MudCard Class="mdcard1" Elevation="0">
                             <MudCardContent>
                                 <div class="d-flex flex-column flex-grow-1 mb-3">
                                     <div class="d-flex flex-wrap gap-lg-4 gap-sm-2">
                                         <div class="flex-grow-1">
                                             <MudInputLabel>Company ID No.</MudInputLabel>
                                             <InputText Class="txf1 w-100 mt-1" @bind-Value="employee.EmployeeNo" />
                                             <ValidationMessage For="@(() => employee.EmployeeNo)" class="mb-2" />
                                         </div>
                                         <div class="flex-grow-1">
                                             <MudInputLabel>Area of Assignment</MudInputLabel>
                                                <MudSelect Class="@slectClasss" @bind-Value="employee.AreaId" DisableUnderLine Margin="Margin.Dense">
                                                 <MudSelectItem Value=0 Disabled>---Select---</MudSelectItem>
                                                @foreach (var area in AreasL)
                                                {
                                                    <MudSelectItem Value="@area.Id">@area.Name</MudSelectItem>
                                                }
                                            </MudSelect>
                                                <ValidationMessage For="@(() => employee.AreaId)" class="mb-2" />
                                         </div>
                                        <div class="flex-grow-1">
                                            <MudInputLabel>Status</MudInputLabel>
                                            <MudSelect Class="@slectClasss" @bind-Value="employee.StatusId" DisableUnderLine Margin="Margin.Dense">
                                                 <MudSelectItem Value=0 Disabled>---Select---</MudSelectItem>
                                                @foreach (var status in StatusL.Where(s => s.Id == 1))
                                                {
                                                    <MudSelectItem Value="@status.Id">@status.Name</MudSelectItem>
                                                }
                                            </MudSelect>
                                             <ValidationMessage For="@(() => employee.StatusId)" class="mb-2" />
                                         </div>
                                     </div>
                                 </div>
                                <div class="d-flex flex-column flex-grow-1 mb-3">
                                        <div class="d-flex flex-wrap gap-lg-4 gap-sm-2 align-items-center">
                                            <div class="flex-grow-1">
                                                <MudInputLabel>Employment Status</MudInputLabel>
                                                <MudSelect Class="@slectClasss" @bind-Value="employee.EmploymentStatusId" DisableUnderLine Margin="Margin.Dense">
                                                     <MudSelectItem Value=0  Disabled >---Select---</MudSelectItem>
                                                     @foreach (var status in EmploymentStatusL)
                                                    {
                                                        <MudSelectItem Value="@status.Id">@status.Name</MudSelectItem>
                                                    }
                                                </MudSelect>
                                                 <ValidationMessage For="@(() => employee.EmploymentStatusId)" class="mb-2" />
                                            </div>
                                            @if (employee.EmploymentStatusId == 1)
                                            {
                                                <div class="flex-grow-1">
                                                    <MudInputLabel>Date Hired (mm/dd/yyyy)</MudInputLabel>
                                                    <MudDatePicker Class="txf" Mask="@(new DateMask("MM/dd/yyyy"))" DateFormat="MM/dd/yyyy"   
                                                        DisableUnderLine
                                                     Editable="true" Date="DateHired" DateChanged="HandleDateHiredChanged" Margin="Margin.Dense" />
                                                 </div>
                                                 <div class="flex-grow-1">
                                                     <MudInputLabel>Regularization Date (mm/dd/yyyy)</MudInputLabel>
                                                    <MudDatePicker Class="txf" @bind-Date="RegularDate" Mask="@(new DateMask("MM/dd/yyyy"))" DateFormat="MM/dd/yyyy" DisableUnderLine Editable="true" Margin="Margin.Dense"/>
                                                 </div>
                                            }
                                            else if (employee.EmploymentStatusId == 2) {
                                                <div class="flex-grow-1">
                                                    <MudInputLabel>Date Hired (mm/dd/yyyy)</MudInputLabel>
                                                    <MudDatePicker @bind-Date="DateHired" Mask="@(new DateMask("MM/dd/yyyy"))" DateFormat="MM/dd/yyyy" Editable="true" Class="txf"      DisableUnderLine Margin="Margin.Dense" />
                                                </div>
                                                <div class="flex-grow-1">
                                                    <MudInputLabel>Probation Start Date (mm/dd/yyyy)</MudInputLabel>
                                                    <MudDatePicker DateChanged="HandleDateHiredChanged" Mask="@(new DateMask("MM/dd/yyyy"))" DateFormat="MM/dd/yyyy" Editable="true" Date="ProbStart" Class="txf" DisableUnderLine Margin="Margin.Dense" />
                                                </div>
                                                <div class="flex-grow-1">
                                                    <MudInputLabel>Probation End Date (mm/dd/yyyy)</MudInputLabel>
                                                    <MudDatePicker @bind-Date="ProbEnd" Mask="@(new DateMask("MM/dd/yyyy"))" DateFormat="MM/dd/yyyy" Editable="true" Class="txf" DisableUnderLine Margin="Margin.Dense" />
                                                </div>
                                            }
                                            else if (employee.EmploymentStatusId == 3) {
                                                <div class="flex-grow-1">
                                                <MudInputLabel>Date Hired (mm/dd/yyyy)</MudInputLabel>
                                                <MudDatePicker @bind-Date="DateHired" Mask="@(new DateMask("MM/dd/yyyy"))" DateFormat="MM/dd/yyyy" Editable="true" Class="txf" DisableUnderLine Margin="Margin.Dense" />
                                                </div>
                                                <div class="flex-grow-1">
                                                    <MudInputLabel>Casual Start Date (mm/dd/yyyy)</MudInputLabel>
                                                    <MudDatePicker @bind-Date="CasualStart" Mask="@(new DateMask("MM/dd/yyyy"))" DateFormat="MM/dd/yyyy" Editable="true" Class="txf" DisableUnderLine Margin="Margin.Dense" />
                                                </div>
                                                <div class="flex-grow-1">
                                                    <MudInputLabel>Casual End Date (mm/dd/yyyy)</MudInputLabel>
                                                    <MudDatePicker @bind-Date="CasualEnd" Mask="@(new DateMask("MM/dd/yyyy"))" DateFormat="MM/dd/yyyy" Editable="true" Class="txf" DisableUnderLine Margin="Margin.Dense" />
                                                </div>
                                            }
                                            else if (employee.EmploymentStatusId == 4) {
                                                <div class="flex-grow-1">
                                                     <MudInputLabel>Date Hired (mm/dd/yyyy)</MudInputLabel>
                                                <MudDatePicker @bind-Date="DateHired" Mask="@(new DateMask("MM/dd/yyyy"))" DateFormat="MM/dd/yyyy" Editable="true" Class="txf" DisableUnderLine Margin="Margin.Dense" />
                                                </div>
                                                <div class="flex-grow-1">
                                                    <MudInputLabel>Fixed Term Start Date (mm/dd/yyyy)</MudInputLabel>
                                                    <MudDatePicker @bind-Date="FixedStart" Mask="@(new DateMask("MM/dd/yyyy"))" DateFormat="MM/dd/yyyy" Editable="true" Class="txf" DisableUnderLine Margin="Margin.Dense" />
                                                </div>
                                                <div class="flex-grow-1">
                                                    <MudInputLabel>Fixed Term End Date (mm/dd/yyyy)</MudInputLabel>
                                                    <MudDatePicker @bind-Date="FixedEnd" Mask="@(new DateMask("MM/dd/yyyy"))" DateFormat="MM/dd/yyyy" Editable="true" Class="txf" DisableUnderLine Margin="Margin.Dense" />
                                                </div>
                                            }
                                            else if (employee.EmploymentStatusId == 5) {
                                                <div class="flex-grow-1">
                                                    <MudInputLabel>Date Hired (mm/dd/yyyy)</MudInputLabel>
                                                    <MudDatePicker @bind-Date="DateHired" Mask="@(new DateMask("MM/dd/yyyy"))" DateFormat="MM/dd/yyyy" Editable="true" Class="txf" DisableUnderLine Margin="Margin.Dense" />
                                                </div>
                                                <div class="flex-grow-1">
                                                    <MudInputLabel>Project Based Start Date (mm/dd/yyyy)</MudInputLabel>
                                                    <MudDatePicker @bind-Date="ProjStart" Mask="@(new DateMask("MM/dd/yyyy"))" DateFormat="MM/dd/yyyy" Editable="true" Class="txf" DisableUnderLine Margin="Margin.Dense" />
                                                </div>
                                                <div class="flex-grow-1">
                                                    <MudInputLabel>Project Based End Date (mm/dd/yyyy)</MudInputLabel>
                                                    <MudDatePicker @bind-Date="ProjEnd" Mask="@(new DateMask("MM/dd/yyyy"))" DateFormat="MM/dd/yyyy" Editable="true" Class="txf" DisableUnderLine Margin="Margin.Dense" />
                                                </div>
                                            }
                                            else
                                            {
                                             <div class="flex-grow-1">
                                                 <MudInputLabel>Date Hired (mm/dd/yyyy)</MudInputLabel>
                                                 <MudDatePicker Class="txf" Mask="@(new DateMask("MM/dd/yyyy"))" DateFormat="MM/dd/yyyy" Disabled DisableUnderLine Editable="true" Date="DateHired" DateChanged="HandleDateHiredChanged" Margin="Margin.Dense" />
                                             </div>
                                             <div class="flex-grow-1">
                                                <MudInputLabel>Regularization Date (mm/dd/yyyy)</MudInputLabel>
                                                <MudDatePicker Class="txf" @bind-Date="RegularDate" Mask="@(new DateMask("MM/dd/yyyy"))" Disabled DateFormat="MM/dd/yyyy" DisableUnderLine Editable="true" Margin="Margin.Dense" />
                                             </div>
                                            }
                                    </div>
                                 </div>
                                <div class="d-flex flex-column flex-grow-1 mb-3">
                                    <div class="d-flex flex-wrap gap-lg-4 gap-sm-2">
                                        @{
                                            var departmentHasSection = employee.DepartmentId != 0 && SectionService.SectionTs.Any(s => s.DepartmentId == employee.DepartmentId);
                                        }
                                        @if (departmentHasSection)
                                        {
                                            <div class="flex-grow-1">
                                                <MudInputLabel>Division</MudInputLabel>
                                                <MudSelect Class="@slectClasss" DisableUnderLine @bind-Value="employee.DivisionId" Margin="Margin.Dense">
                                                     <MudSelectItem Value=0 Disabled>---Select---</MudSelectItem>
                                                 @foreach (var div in DivisionsL)
                                                    {
                                                        <MudSelectItem Value="@div.Id">@div.Name</MudSelectItem>
                                                    }
                                                </MudSelect>
                                            </div>
                                            <div class="flex-grow-1">
                                                <MudInputLabel>Department</MudInputLabel>
                                                <MudSelect Class="@slectClasss" DisableUnderLine @bind-Value="employee.DepartmentId" Margin="Margin.Dense">
                                                     <MudSelectItem Value=0 Disabled>---Select---</MudSelectItem>
                                                 @foreach (var dep in DepartmentsL.Where(d => d.DivisionId == employee.DivisionId))
                                                    {
                                                        <MudSelectItem Value="@dep.Id">@dep.Name</MudSelectItem>
                                                    }
                                                </MudSelect>
                                            </div>
                                            @if (departmentHasSection)
                                            {
                                                var sections = employee.DepartmentId != 0 ? SectionService.SectionTs.Where(s => s.DepartmentId == employee.DepartmentId) : Enumerable.Empty<SectionT>();
                                                <div class="flex-grow-1">
                                                    <MudInputLabel>Section</MudInputLabel>
                                                    <MudSelect Class="@slectClasss" DisableUnderLine @bind-Value="employee.SectionId" Margin="Margin.Dense">
                                                         <MudSelectItem Value=0 Disabled>---Select---</MudSelectItem>
                                                     @if (sections.Any())
                                                        {
                                                            @foreach (var sect in sections)
                                                            {
                                                                <MudSelectItem Value="@sect.Id">@sect.Name</MudSelectItem>
                                                            }
                                                        }
                                                        else
                                                        {
                                                            <MudSelectItem Value="0">&nbsp;</MudSelectItem>
                                                        }
                                                    </MudSelect>
                                                </div>
                                                <div class="flex-grow-1">
                                                    <MudInputLabel>Position</MudInputLabel>
                                                        <MudSelect Class="@slectClasss" DisableUnderLine @bind-Value="employee.PositionId" Margin="Margin.Dense">
                                                         <MudSelectItem Value=0 Disabled>---Select---</MudSelectItem>
                                                     @foreach (var dep in PositionsL.Where(d => d.DivisionId == employee.DivisionId && d.DepartmentId == employee.DepartmentId && d.SectionId == employee.SectionId))
                                                        {
                                                            <MudSelectItem Value="@dep.Id">@dep.Name</MudSelectItem>
                                                        }
                                                    </MudSelect>
                                                </div>
                                            }
                                        }
                                        else {
                                            <div class="flex-grow-1">
                                                <MudInputLabel>Division</MudInputLabel>
                                                <MudSelect @bind-Value="employee.DivisionId" Class="@slectClasss" DisableUnderLine Margin="Margin.Dense">
                                                     <MudSelectItem Value=0 Disabled>---Select---</MudSelectItem>
                                                 @foreach (var div in DivisionsL)
                                                    {
                                                        <MudSelectItem Value="@div.Id">@div.Name</MudSelectItem>
                                                    }
                                                </MudSelect>
                                            </div>
                                            <div class="flex-grow-1">
                                                <MudInputLabel>Department</MudInputLabel>
                                                <MudSelect @bind-Value="employee.DepartmentId" Class="@slectClasss" DisableUnderLine Margin="Margin.Dense">
                                                     <MudSelectItem Value=0 Disabled>---Select---</MudSelectItem>
                                                 @foreach (var dep in DepartmentsL.Where(d => d.DivisionId == employee.DivisionId))
                                                    {
                                                        <MudSelectItem Value="@dep.Id">@dep.Name</MudSelectItem>
                                                    }
                                                </MudSelect>
                                            </div>
                                            <div class="flex-grow-1">
                                                <MudInputLabel>Position</MudInputLabel>
                                                    <MudSelect @bind-Value="employee.PositionId" Class="@slectClasss" DisableUnderLine Margin="Margin.Dense">
                                                     <MudSelectItem Value=0 Disabled>---Select---</MudSelectItem>
                                                 @foreach (var dep in PositionsL.Where(d => d.DepartmentId == employee.DepartmentId))
                                                    {
                                                        <MudSelectItem Value="@dep.Id">@dep.Name</MudSelectItem>
                                                    }
                                                </MudSelect>
                                            </div>
                                        }                                
                                        </div>
                                </div>
                                <MudItem xs="12" Class="d-flex justify-content-end mt-5">
                                    @* <MudButton OnClick="() => Activate(1)" ButtonType="ButtonType.Submit" Variant="Variant.Filled" Size="Size.Medium" EndIcon="@Icons.Material.Rounded.NavigateNext" Class="btnadd">Next</MudButton> *@
                                        <button Class="btn btnnext" type="submit">NEXT</button>
                                </MudItem>
                            </MudCardContent>
                        </MudCard>
                    </MudItem>
                </EditForm>
            </MudGrid>
        </MudTabPanel>

        @* ====================================================================================  PERSONAL  ==================================================================================== *@
        <MudTabPanel TabContent="tabHeader(1)">
            <MudGrid>
                <EditForm Model="employee" OnValidSubmit="ActivateAddressField" class="d-flex flex-column flex-grow-1" style="margin-top: 13px;">
                    <DataAnnotationsValidator />

                    <MudItem xs="12" >
                            <span class="spantitle">Personal Details</span>
                            <MudCard Class="mdcard1" Elevation="0">
                                <MudCardContent>
                                    <div class="d-flex flex-column flex-grow-1 mb-3">
                                        <div class="d-flex flex-wrap gap-lg-4 gap-sm-2 mb-2">
                                            <div class="flex-grow-1">
                                                <MudInputLabel>First Name</MudInputLabel>
                                                <InputText Class="txf1 w-100 mt-1" @bind-Value="employee.FirstName" />
                                            <ValidationMessage For="@(() => employee.FirstName)" class="mb-2 valmessage" />
                                             </div>
                                             <div class="flex-grow-1">
                                                 <MudInputLabel>Middle Name</MudInputLabel>
                                                 <InputText Class="txf1 w-100 mt-1" @bind-Value="employee.MiddleName" />
                                                <ValidationMessage For="@(() => employee.MiddleName)" class="mb-2 valmessage" />
                                             </div>
                                             <div class="flex-grow-1">
                                                 <MudInputLabel>Last Name</MudInputLabel>
                                                 <InputText Class="txf1 w-100 mt-1" @bind-Value="employee.LastName" />
                                                <ValidationMessage For="@(() => employee.LastName)" class="mb-2 valmessage" />
                                             </div>
                                             <div class="flex-grow-1 flex-lg-grow-0 ">
                                                 <MudInputLabel>Extension</MudInputLabel>
                                                 <InputText Class="txf1 w-100 mt-1" @bind-Value="employee.Extension" />
                                                 <ValidationMessage For="@(() => employee.Extension)" class="mb-2 valmessage" />

                                             </div>
                                         </div>
                                         <div class="d-flex flex-wrap gap-lg-4 gap-sm-2 mb-2 align-items-center">
                                             <div class="flex-grow-1">
                                                 <MudInputLabel>Birthdate (mm/dd/yyyy)</MudInputLabel>
                                                 <MudDatePicker Class="txf" DisableUnderLine @bind-Date="bday" Mask="@(new DateMask("MM/dd/yyyy"))" DateFormat="MM/dd/yyyy" Editable="true" Margin="Margin.Dense" />
                                             </div>
                                             <div class="flex-grow-1">
                                                 <MudInputLabel>Age</MudInputLabel>
                                                 <MudTextField Class="txf" DisableUnderLine Value="@CalculateAge(bday)" ReadOnly="true" Margin="Margin.Dense" />
                                             </div>
                                             <div class="flex-grow-1">
                                                 <MudInputLabel>Gender</MudInputLabel>
                                             <MudSelect Class="@slectClasssGender" DisableUnderLine @bind-Value="employee.GenderId" Margin="Margin.Dense">
                                                     <MudSelectItem Value=0 Disabled>---Select---</MudSelectItem>
                                                    @foreach (var gender in GendersL)
                                                    {
                                                        <MudSelectItem Value="@gender.Id">@gender.Name</MudSelectItem>
                                                    }
                                                </MudSelect>
                                            </div>
                                        </div>
                                        <div class="d-flex flex-wrap gap-lg-4 gap-sm-2 mb-2 align-items-center">
                                            <div class="flex-grow-1">
                                                <MudInputLabel>Civil Status</MudInputLabel>
                                            <MudSelect Class="@slectClasssCV" @bind-Value="employee.CivilStatusId" DisableUnderLine Margin="Margin.Dense">
                                                     @*//gibago nako class*@
                                                <MudSelectItem Value=0 Disabled>---Select---</MudSelectItem>
                                                    @foreach (var cs in CivilStatusL)
                                                    {
                                                        <MudSelectItem Value="@cs.Id">@cs.Name</MudSelectItem>
                                                    }
                                                </MudSelect>
                                            </div>
                                            <div class="flex-grow-1">
                                                <MudInputLabel>Nationality</MudInputLabel>
                                            <InputText Class="@txfieldClasssNat" @bind-Value="employee.Nationality" />
                                                <ValidationMessage For="@(() => employee.Nationality)" class="mb-2 valmessage" />
                                             </div>
                                             <div class="flex-grow-1">
                                                 <MudInputLabel>Religion</MudInputLabel>
                                            <MudSelect @bind-Value="employee.ReligionId" Class="@slectClasssReli" DisableUnderLine Margin="Margin.Dense">
                                                     <MudSelectItem Value=0 Disabled>---Select---</MudSelectItem>
                                                    @foreach (var rel in ReligionsL)
                                                    {
                                                        <MudSelectItem Value="@rel.Id">@rel.Name</MudSelectItem>
                                                    }
                                                </MudSelect>
                                            </div>
                                        </div>
                                        <div class="d-flex flex-wrap gap-lg-4 gap-sm-2 mb-2 align-items-center">
                                            <div class="flex-grow-1">
                                                <MudInputLabel>Mobile #</MudInputLabel>
                                            <MudNumericField HideSpinButtons="true" @bind-Value="employee.MobileNumber" Class="@txfieldClasssMN" DisableUnderLine Margin="Margin.Dense" Adornment="Adornment.Start" AdornmentText="+63" MaxLength="10" For="@(() => employee.MobileNumber)" />
                                             </div>
                                             <div class="flex-grow-1">
                                                 <MudInputLabel>Weight(kg)</MudInputLabel>
                                                 <InputNumber Class="txf1 w-100 mt-1" @bind-Value="employee.Weight" />
                                             </div>
                                             <div class="flex-grow-1">
                                                 <MudInputLabel>Height(cm)</MudInputLabel>
                                                 <InputNumber Class="txf1 w-100 mt-1" @bind-Value="employee.Height" />
                                             </div>
                                         </div>
                                     </div>
                                 </MudCardContent>
                             </MudCard>
                    </MudItem>
                     <MudItem xs="12">
                         <div class="d-flex flex-grow-1 justify-content-center">
                             <MudDivider DividerType="DividerType.Middle" Class="my-2 w-25 justify-content-center" Style="border: 2px solid #78909C; border-radius: 5px;" />
                         </div>
                     </MudItem>
                    <MudItem xs="12">
                        <span class="spantitle">Person to Notify in Case of Emergency</span>
                         <MudCard Class="mdcard1" Elevation="0">
                            <MudCardContent>
                                <div class="d-flex flex-column flex-grow-1 mb-3">
                                    <div class="d-flex flex-wrap gap-lg-4 gap-sm-2 mb-2 align-items-center">
                                        <div class="flex-grow-1">
                                             <MudInputLabel>Name</MudInputLabel>
                                             <InputText Class="@txfieldClasssEN" @bind-Value="employee.EmerName" />
                                             <ValidationMessage For="@(() => employee.EmerName)" class="mb-2 valmessage" />
                                        </div>
                                         <div class="flex-grow-1">
                                             <MudInputLabel>Relationship</MudInputLabel>
                                             <MudSelect @bind-Value="employee.EmerRelationshipId" Class="@slectClasssRela" DisableUnderLine Margin="Margin.Dense">
                                                 <MudSelectItem Value=0 Disabled>---Select---</MudSelectItem>
                                                @foreach (var rel in EmerRelationshipsL)
                                                {
                                                    <MudSelectItem Value="@rel.Id">@rel.Name</MudSelectItem>
                                                }
                                            </MudSelect>
                                        </div>
                                         <div class="flex-grow-1">
                                            <MudInputLabel>Address</MudInputLabel>
                                            <InputText Class="@txfieldClasssEA" @bind-Value="employee.EmerAddress" />
                                             <ValidationMessage For="@(() => employee.EmerAddress)" class="mb-2 valmessage" />
                                        </div>
                                         <div class="flex-grow-1">
                                            <MudInputLabel>Mobile #</MudInputLabel>
                                            <MudNumericField HideSpinButtons="true" @bind-Value="employee.EmerMobNum" Class="@txfieldClasssEMN" DisableUnderLine Margin="Margin.Dense" Adornment="Adornment.Start" AdornmentText="+63" MaxLength="10" For="@(() => employee.EmerMobNum)" />
                                         </div>
                                    </div>
                                </div>

                                <MudItem xs="12" Class="d-flex justify-content-center mt-5">
                                    <button Class="btn btnnext" type="submit">NEXT</button>
                                </MudItem>
                            </MudCardContent>
                        </MudCard>
                    </MudItem>
                </EditForm>

                 <MudItem xs="12">
                     <div class="d-flex flex-grow-1 justify-content-center">
                         <MudDivider DividerType="DividerType.Middle" Class="my-2 w-25 justify-content-center" Style="border: 2px solid #78909C; border-radius: 5px;" />
                     </div>
                </MudItem>
                <MudItem xs="12">
                    <EditForm Model="address" OnValidSubmit="() => Activate2(2)" class="d-flex flex-column flex-grow-1" style="margin-top: 13px;">
                        <DataAnnotationsValidator/>
                        <span class="spantitle">Address</span>
                         <MudCard Class="mdcard1" Elevation="0">
                             <MudCardContent>
                                 <span class="spantitle">Present Address</span>
                                 <div class="d-flex flex-column flex-grow-1 mb-3">
                                     <div class="d-flex flex-wrap gap-lg-4 gap-sm-2 mb-2">
                                         <div class="flex-grow-1">
                                             <MudInputLabel>(Unit/House/Building/Street Number, Street Name, Barangay Name)</MudInputLabel>
                                             <InputText id="bb" Class="txf1 w-100 mt-1" @bind-Value="address.CurrentAdd" />
                                             <ValidationMessage For="@(() => address.CurrentAdd)" class="mb-2 valmessage" />
                                         </div>
                                     </div>
                                     <div class="d-flex flex-wrap gap-lg-4 gap-sm-2 mb-2">
                                         <div class="flex-grow-1">
                                             <MudInputLabel>City</MudInputLabel>
                                              <InputText Class="txf1 w-100 mt-1" @bind-Value="address.CurrentCity" />
                                             <ValidationMessage For="@(() => address.CurrentCity)" class="mb-2 valmessage" />
                                         </div>
                                         <div class="flex-grow-1">
                                             <MudInputLabel>Province</MudInputLabel>
                                              <InputText Class="txf1 w-100 mt-1" @bind-Value="address.CurrentProvince" />
                                             <ValidationMessage For="@(() => address.CurrentProvince)" class="mb-2 valmessage" />
                                         </div>
                                         <div class="flex-grow-1">
                                             <MudInputLabel>ZipCode</MudInputLabel>
                                              <InputText Class="txf1 w-100 mt-1" @bind-Value="address.CurrentZipCode" />
                                             <ValidationMessage For="@(() => address.CurrentZipCode)" class="mb-2 valmessage" />
                                         </div>
                                         <div class="flex-grow-1">
                                             <MudInputLabel>Country</MudInputLabel>
                                             <InputText Class="txf1 w-100 mt-1" @bind-Value="address.CurrentCountry" />
                                             <ValidationMessage For="@(() => address.CurrentCountry)" class="mb-2 valmessage" />
                                         </div>
                                     </div>
                                     <span class="spantitle">Permanent Address</span>
                                     <div class="d-flex flex-wrap gap-lg-4 gap-sm-2 mb-2">
                                         <div class="flex-grow-1">
                                             <MudInputLabel>(Unit/House/Building/Street Number, Street Name, Barangay Name)</MudInputLabel>
                                              <InputText Class="txf1 w-100 mt-1" @bind-Value="address.PermanentAdd" />
                                             <ValidationMessage For="@(() => address.PermanentAdd)" class="mb-2 valmessage" />
                                         </div>
                                     </div>
                                     <div class="d-flex flex-wrap gap-lg-4 gap-sm-2 mb-2">
                                         <div class="flex-grow-1">
                                             <MudInputLabel>City</MudInputLabel>
                                              <InputText Class="txf1 w-100 mt-1" @bind-Value="address.PermanentCity" />
                                             <ValidationMessage For="@(() => address.PermanentCity)" class="mb-2 valmessage" />
                                         </div>
                                         <div class="flex-grow-1">
                                             <MudInputLabel>Province</MudInputLabel>
                                              <InputText Class="txf1 w-100 mt-1" @bind-Value="address.PermanentProvince" />
                                             <ValidationMessage For="@(() => address.PermanentProvince)" class="mb-2 valmessage" />
                                         </div>
                                         <div class="flex-grow-1">
                                             <MudInputLabel>ZipCode</MudInputLabel>
                                              <InputText Class="txf1 w-100 mt-1" @bind-Value="address.PermanentZipCode" />
                                             <ValidationMessage For="@(() => address.PermanentZipCode)" class="mb-2 valmessage" />
                                         </div>
                                         <div class="flex-grow-1">
                                             <MudInputLabel>Country</MudInputLabel>
                                              <InputText Class="txf1 w-100 mt-1" @bind-Value="address.PermanentCountry" />
                                             <ValidationMessage For="@(() => address.PermanentCountry)" class="mb-2 valmessage" />
                                         </div>
                                     </div>
                                 </div>
                                 <MudItem xs="12" Class="d-flex justify-content-between mt-5">
                                     <button Class="btn btnnext" type="button" onclick="@(()=>Activate(0))" style="background-color: #C5CFD2;">BACK</button>
                                     <button Class="btn btnnext" type="submit">NEXT</button>
                                 </MudItem>
                             </MudCardContent>
                         </MudCard>
                    </EditForm>                
                </MudItem>
            </MudGrid>
        </MudTabPanel>

        @* ====================================================================================  EDUCATION  ==================================================================================== *@

        <MudTabPanel TabContent="tabHeader(2)" >
            <MudGrid>
                 <MudItem xs="12" Style="padding-top: 0px;">
                     <MudCard Class="mdcard1" Elevation="0">
                        <MudCardContent>
                            <div class="d-flex flex-column flex-grow-1">
                                <div class="d-flex flex-grow-1 justify-content-between align-items-center mb-2">
                                    <span class="spantitle">Primary</span>
                                    <div>
                                        <MudTooltip  Text="Click to remove Primary">
                                            <MudIconButton Class="p-0 addminbtn" OnClick="RemovePrimary" Icon="@Icons.Material.Rounded.RemoveCircle" />
                                        </MudTooltip>
                                        <MudTooltip Text="Click to add more Primary">
                                            <MudIconButton Class="p-0 addminbtn" OnClick="() => AddNewPrimary(employee.Verify_Id)" Icon="@Icons.Material.Rounded.AddCircle" />
                                        </MudTooltip>
                                    </div>                                
                                </div>
                                @if (listOfPrimary.Any())
                                {
                                    @foreach (var pri in listOfPrimary)
                                    {
                                        <div class="mb-3 divSchool">
                                            <div class="d-flex flex-wrap gap-lg-4 gap-sm-2 mb-1">
                                                <div class="flex-grow-1">
                                                    <MudInputLabel>Name of School</MudInputLabel>
                                                    <MudTextField @bind-Value="pri.PriSchoolName" Class="txf" DisableUnderLine Margin="Margin.Dense" />
                                                </div>
                                                <div class="flex-grow-1">
                                                    <MudInputLabel>School Location</MudInputLabel>
                                                    <MudTextField @bind-Value="pri.PriSchoolLoc" Class="txf" DisableUnderLine Margin="Margin.Dense" />
                                                </div>
                                            </div>
                                             <div class="d-flex flex-wrap gap-lg-4 gap-sm-2">
                                                <div class="flex-grow-1">
                                                    <MudInputLabel>Award</MudInputLabel>
                                                    <MudTextField @bind-Value="pri.PriAward" Class="txf" DisableUnderLine Margin="Margin.Dense" />
                                                </div>
                                                 <div class="flex-grow-1">
                                                      <MudInputLabel>School Year</MudInputLabel>
                                                    <MudTextField @bind-Value="pri.PriSchoolYear" Class="txf" DisableUnderLine Margin="Margin.Dense" />
                                                 </div>
                                            </div>
                                        </div>
                                        
                                    }
                                }
                                else
                                {
                                    @foreach (var pri in listOfPrimary)
                                    {
                                        <MudContainer MaxWidth="MaxWidth.ExtraLarge">
                                            <MudCard>
                                                <MudCardContent>
                                                    <p>No Primary information available.</p>
                                                </MudCardContent>
                                            </MudCard>
                                        </MudContainer>
                                    }
                                }
                            </div>
                        </MudCardContent>
                    </MudCard>
                </MudItem>
                <MudItem xs="12">
                    <MudCard Class="mdcard1" Elevation="0">
                        <MudCardContent>       
                            <div class="d-flex flex-column flex-grow-1">
                                <div class="d-flex flex-grow-1 justify-content-between align-items-center mb-2">
                                    <span class="spantitle">Secondary</span>
                                    <div>
                                        <MudTooltip Text="Click to remove Secondary">
                                            <MudIconButton Class="p-0 addminbtn" OnClick="RemoveSecondary" Icon="@Icons.Material.Rounded.RemoveCircle" />
                                        </MudTooltip>
                                        <MudTooltip Text="Click to add more Secondary">
                                            <MudIconButton Class="p-0 addminbtn" OnClick="() => AddNewSecondary(employee.Verify_Id)" Icon="@Icons.Material.Rounded.AddCircle" />
                                        </MudTooltip>
                                    </div>
                                </div>
                               
                                @if (listOfSecondary.Any())
                                {
                                    @foreach (var sec in listOfSecondary)
                                    {
                                        <div class="mb-3 divSchool">
                                            <div class="d-flex flex-wrap gap-lg-4 gap-sm-2 mb-1">
                                                <div class="flex-grow-1">
                                                    <MudInputLabel>Name of School</MudInputLabel>
                                                    <MudTextField @bind-Value="sec.SecSchoolName" Class="txf" DisableUnderLine Margin="Margin.Dense" />
                                                 </div>
                                                 <div class="flex-grow-1">
                                                     <MudInputLabel>School Location</MudInputLabel>
                                                     <MudTextField @bind-Value="sec.SecSchoolLoc" Class="txf" DisableUnderLine Margin="Margin.Dense" />
                                                 </div>
                                             </div>
                                             <div class="d-flex flex-wrap gap-lg-4 gap-sm-2">
                                                 <div class="flex-grow-1">
                                                     <MudInputLabel>Award</MudInputLabel>
                                                     <MudTextField @bind-Value="sec.SecAward" Class="txf" DisableUnderLine Margin="Margin.Dense" />
                                                 </div>
                                                 <div class="flex-grow-1">
                                                     <MudInputLabel>School Year</MudInputLabel>
                                                     <MudTextField @bind-Value="sec.SecSchoolYear" Class="txf" DisableUnderLine Margin="Margin.Dense" />
                                                 </div>
                                             </div>
                                         </div>
                                    }
                                }
                                else
                                {
                                    <MudContainer MaxWidth="MaxWidth.ExtraLarge">
                                         <MudCard>
                                             <MudCardContent>
                                                  <p>No Secondary information available.</p>
                                             </MudCardContent>
                                         </MudCard>
                                    </MudContainer>
                                   
                                }
                            </div>
                        </MudCardContent>
                    </MudCard>
                </MudItem>
                <MudItem xs="12" Style="padding-bottom: 0px;">
                    <div class="d-flex flex-grow-1 align-items-center">
                        <MudCheckBox @bind-Checked="IsListaddshs" Color="Color.Primary"></MudCheckBox><span class="spantitle">Senior High School</span>
                    </div>
                </MudItem>
                @if (IsListaddshs)
                {
                    <MudItem xs="12" Style="padding-top: 0px;">
                        <MudCard Class="mdcard1" Elevation="0" Style="padding-top: 0px;">
                            <MudCardContent Style="padding-top: 0px;">
                                <div class="d-flex flex-column flex-grow-1">
                                    <div class="d-flex flex-grow-1 justify-content-end align-items-center mb-2">
                                        <div>
                                            <MudTooltip Text="Click to remove SHS">
                                                <MudIconButton Class="p-0 addminbtn" OnClick="RemoveShs" Icon="@Icons.Material.Rounded.RemoveCircle" />
                                            </MudTooltip>
                                            <MudTooltip Text="Click to add more SHS">
                                                <MudIconButton Class="p-0 addminbtn" OnClick="() => AddNewShs(employee.Verify_Id)" Icon="@Icons.Material.Rounded.AddCircle" />
                                            </MudTooltip>
                                        </div>
                                    </div>

                                    @if (listOfShs.Any())
                                    {
                                        @foreach (var shs in listOfShs)
                                        {
                                            <div class="mb-3 divSchool">
                                                <div class="d-flex flex-wrap gap-lg-4 gap-sm-2 mb-1">
                                                    <div class="flex-grow-1">
                                                        <MudInputLabel>Name of School</MudInputLabel>
                                                        <MudTextField @bind-Value="shs.ShsSchoolName" Class="txf" DisableUnderLine Margin="Margin.Dense" />
                                                     </div>
                                                     <div class="flex-grow-1">
                                                         <MudInputLabel>School Location</MudInputLabel>
                                                         <MudTextField @bind-Value="shs.ShsSchoolLoc" Class="txf" DisableUnderLine Margin="Margin.Dense" />
                                                     </div>
                                                 </div>
                                                 <div class="d-flex flex-wrap gap-lg-4 gap-sm-2">
                                                     <div class="flex-grow-1">
                                                         <MudInputLabel>Award</MudInputLabel>
                                                         <MudTextField @bind-Value="shs.ShsAward" Class="txf" DisableUnderLine Margin="Margin.Dense" />
                                                     </div>
                                                     <div class="flex-grow-1">
                                                         <MudInputLabel>School Year</MudInputLabel>
                                                         <MudTextField @bind-Value="shs.ShsSchoolYear" Class="txf" DisableUnderLine Margin="Margin.Dense" />
                                                     </div>
                                                 </div>
                                             </div>
                                        }
                                    }
                                    else
                                    {
                                        <MudContainer MaxWidth="MaxWidth.ExtraLarge">
                                            <MudCard>
                                                <MudCardContent>
                                                    <p>No SHS information available.</p>
                                                </MudCardContent>
                                            </MudCard>
                                        </MudContainer>
                                    }
                                </div>
                            </MudCardContent>
                        </MudCard>
                    </MudItem>
                }
                <MudItem xs="12" Style="padding-bottom: 0px;">
                    <div class="d-flex flex-grow-1 align-items-center">
                        <MudCheckBox @bind-Checked="IsListaddcoll" Color="Color.Primary"></MudCheckBox><span class="spantitle">College</span>
                    </div>
                </MudItem>
                @if (IsListaddcoll)
                {
                    <MudItem xs="12" Style="padding-top: 0px;">
                        <MudCard Class="mdcard1" Elevation="0" Style="padding-top: 0px;">
                            <MudCardContent Style="padding-top: 0px;">
                                <div class="d-flex flex-column flex-grow-1">
                                    <div class="d-flex flex-grow-1 justify-content-end align-items-center mb-2">
                                        <div>
                                            <MudTooltip Text="Click to remove College">
                                                <MudIconButton Class="p-0 addminbtn" OnClick="RemoveCollege" Icon="@Icons.Material.Rounded.RemoveCircle" />
                                            </MudTooltip>
                                            <MudTooltip Text="Click to add more College">
                                                <MudIconButton Class="p-0 addminbtn" OnClick="() => AddNewCollege(employee.Verify_Id)" Icon="@Icons.Material.Rounded.AddCircle" />
                                            </MudTooltip>
                                        </div>
                                    </div>

                                    @if (listOfCollege.Any())
                                    {
                                        @foreach (var col in listOfCollege)
                                        {
                                            <div class="mb-3 divSchool">
                                                <div class="d-flex flex-wrap gap-lg-4 gap-sm-2 mb-1">
                                                    <div class="flex-grow-1">
                                                        <MudInputLabel>Name of School</MudInputLabel>
                                                        <MudTextField @bind-Value="col.CollSchoolName" Class="txf" DisableUnderLine Margin="Margin.Dense" />
                                                     </div>
                                                     <div class="flex-grow-1">
                                                         <MudInputLabel>School Location</MudInputLabel>
                                                         <MudTextField @bind-Value="col.CollSchoolLoc" Class="txf" DisableUnderLine Margin="Margin.Dense" />
                                                     </div>
                                                 </div>
                                                 <div class="d-flex flex-wrap gap-lg-4 gap-sm-2">
                                                     <div class="flex-grow-1">
                                                         <MudInputLabel>Award</MudInputLabel>
                                                         <MudTextField @bind-Value="col.CollAward" Class="txf" DisableUnderLine Margin="Margin.Dense" />
                                                     </div>
                                                     <div class="flex-grow-1">
                                                         <MudInputLabel>Course</MudInputLabel>
                                                         <MudTextField @bind-Value="col.CollCourse" Class="txf" DisableUnderLine Margin="Margin.Dense" />
                                                     </div>
                                                     <div class="flex-grow-1">
                                                         <MudInputLabel>School Year</MudInputLabel>
                                                         <MudTextField @bind-Value="col.CollSchoolYear" Class="txf" DisableUnderLine Margin="Margin.Dense" />
                                                     </div>
                                                 </div>
                                             </div>
                                        }
                                    }
                                    else
                                    {
                                        <MudContainer MaxWidth="MaxWidth.ExtraLarge">
                                            <MudCard>
                                                <MudCardContent>
                                                    <p>No College information available.</p>
                                                </MudCardContent>
                                            </MudCard>
                                        </MudContainer>
                                    }
                                </div>
                            </MudCardContent>
                        </MudCard>
                    </MudItem>
                }
                <MudItem xs="12" Style="padding-bottom: 0px;">
                    <div class="d-flex flex-grow-1 align-items-center">
                        <MudCheckBox @bind-Checked="IsListaddmas" Color="Color.Primary"></MudCheckBox><span class="spantitle">Masteral</span>
                    </div>
                </MudItem>
                @if (IsListaddmas)
                {
                    <MudItem xs="12" Style="padding-top: 0px;">
                        <MudCard Class="mdcard1" Elevation="0" Style="padding-top: 0px;">
                            <MudCardContent Style="padding-top: 0px;">
                                <div class="d-flex flex-column flex-grow-1">
                                    <div class="d-flex flex-grow-1 justify-content-end align-items-center mb-2">
                                        <div>
                                            <MudTooltip Text="Click to remove Masteral">
                                                <MudIconButton Class="p-0 addminbtn" OnClick="RemoveMasteral" Icon="@Icons.Material.Rounded.RemoveCircle" />
                                            </MudTooltip>
                                            <MudTooltip Text="Click to add more Masteral">
                                                <MudIconButton Class="p-0 addminbtn" OnClick="() => AddNewMasteral(employee.Verify_Id)" Icon="@Icons.Material.Rounded.AddCircle" />
                                            </MudTooltip>
                                        </div>
                                    </div>

                                    @if (listOfMasteral.Any())
                                    {
                                        @foreach (var mas in listOfMasteral)
                                        {
                                            <div class="mb-3 divSchool">
                                                <div class="d-flex flex-wrap gap-lg-4 gap-sm-2 mb-1">
                                                    <div class="flex-grow-1">
                                                        <MudInputLabel>Name of School</MudInputLabel>
                                                        <MudTextField @bind-Value="mas.MasSchoolName" Class="txf" DisableUnderLine Margin="Margin.Dense" />
                                                     </div>
                                                     <div class="flex-grow-1">
                                                         <MudInputLabel>School Location</MudInputLabel>
                                                         <MudTextField @bind-Value="mas.MasSchoolLoc" Class="txf" DisableUnderLine Margin="Margin.Dense" />
                                                     </div>
                                                 </div>
                                                 <div class="d-flex flex-wrap gap-lg-4 gap-sm-2">
                                                     <div class="flex-grow-1">
                                                         <MudInputLabel>Award</MudInputLabel>
                                                         <MudTextField @bind-Value="mas.MasAward" Class="txf" DisableUnderLine Margin="Margin.Dense" />
                                                     </div>
                                                      <div class="flex-grow-1">
                                                         <MudInputLabel>Course</MudInputLabel>
                                                         <MudTextField @bind-Value="mas.MasCourse" Class="txf" DisableUnderLine Margin="Margin.Dense" />
                                                     </div>
                                                     <div class="flex-grow-1">
                                                         <MudInputLabel>School Year</MudInputLabel>
                                                         <MudTextField @bind-Value="mas.MasSchoolYear" Class="txf" DisableUnderLine Margin="Margin.Dense" />
                                                     </div>
                                                 </div>
                                             </div>
                                        }
                                    }
                                    else
                                    {
                                        <MudContainer MaxWidth="MaxWidth.ExtraLarge">
                                            <MudCard>
                                                <MudCardContent>
                                                    <p>No Masteral information available.</p>
                                                </MudCardContent>
                                            </MudCard>
                                        </MudContainer>
                                    }
                                </div>
                            </MudCardContent>
                        </MudCard>
                    </MudItem>
                }
                <MudItem xs="12" Style="padding-bottom: 0px;">
                    <div class="d-flex flex-grow-1 align-items-center">
                        <MudCheckBox @bind-Checked="IsListadddoc" Color="Color.Primary"></MudCheckBox><span class="spantitle">Doctorate</span>
                    </div>
                </MudItem>
                @if (IsListadddoc)
                {
                    <MudItem xs="12" Style="padding-top: 0px;">
                        <MudCard Class="mdcard1" Elevation="0" Style="padding-top: 0px;">
                            <MudCardContent Style="padding-top: 0px;">
                                <div class="d-flex flex-column flex-grow-1">
                                    <div class="d-flex flex-grow-1 justify-content-end align-items-center mb-2">
                                        <div>
                                            <MudTooltip Text="Click to remove Doctorate">
                                                <MudIconButton Class="p-0 addminbtn" OnClick="RemoveDoctorate" Icon="@Icons.Material.Rounded.RemoveCircle" />
                                            </MudTooltip>
                                            <MudTooltip Text="Click to add more Doctorate">
                                                <MudIconButton Class="p-0 addminbtn" OnClick="() => AddNewDoctorate(employee.Verify_Id)" Icon="@Icons.Material.Rounded.AddCircle" />
                                            </MudTooltip>
                                        </div>
                                    </div>

                                    @if (listOfDoctorate.Any())
                                    {
                                        @foreach (var doc in listOfDoctorate)
                                        {
                                            <div class="mb-3 divSchool">
                                                <div class="d-flex flex-wrap gap-lg-4 gap-sm-2 mb-1">
                                                    <div class="flex-grow-1">
                                                        <MudInputLabel>Name of School</MudInputLabel>
                                                        <MudTextField @bind-Value="doc.DocSchoolName" Class="txf" DisableUnderLine Margin="Margin.Dense" />
                                                     </div>
                                                     <div class="flex-grow-1">
                                                         <MudInputLabel>School Location</MudInputLabel>
                                                         <MudTextField @bind-Value="doc.DocSchoolLoc" Class="txf" DisableUnderLine Margin="Margin.Dense" />
                                                     </div>
                                                 </div>
                                                 <div class="d-flex flex-wrap gap-lg-4 gap-sm-2">
                                                     <div class="flex-grow-1">
                                                         <MudInputLabel>Award</MudInputLabel>
                                                         <MudTextField @bind-Value="doc.DocAward" Class="txf" DisableUnderLine Margin="Margin.Dense" />
                                                     </div>
                                                     <div class="flex-grow-1">
                                                         <MudInputLabel>Course</MudInputLabel>
                                                         <MudTextField @bind-Value="doc.DocCourse" Class="txf" DisableUnderLine Margin="Margin.Dense" />
                                                     </div>
                                                     <div class="flex-grow-1">
                                                         <MudInputLabel>School Year</MudInputLabel>
                                                         <MudTextField @bind-Value="doc.DocSchoolYear" Class="txf" DisableUnderLine Margin="Margin.Dense" />
                                                     </div>
                                                 </div>
                                             </div>
                                        }
                                    }
                                    else
                                    {
                                        <MudContainer MaxWidth="MaxWidth.ExtraLarge">
                                            <MudCard>
                                                <MudCardContent>
                                                    <p>No Doctorate information available.</p>
                                                </MudCardContent>
                                            </MudCard>
                                        </MudContainer>
                                    }
                                </div>
                            </MudCardContent>
                        </MudCard>
                    </MudItem>
                }
                <MudItem xs="12" Style="padding-bottom: 0px;">
                    <div class="d-flex flex-grow-1 align-items-center">
                        <MudCheckBox @bind-Checked="IsListaddothers" Color="Color.Primary"></MudCheckBox><span class="spantitle">Other</span>
                    </div>
                </MudItem>
                @if (IsListaddothers)
                {
                    <MudItem xs="12" Style="padding-top: 0px;">
                        <MudCard Class="mdcard1" Elevation="0" Style="padding-top: 0px;">
                            <MudCardContent Style="padding-top: 0px;">
                                <div class="d-flex flex-column flex-grow-1">
                                    <div class="d-flex flex-grow-1 justify-content-end align-items-center mb-2">
                                        <div>
                                            <MudTooltip Text="Click to remove Other">
                                                <MudIconButton Class="p-0 addminbtn" OnClick="RemoveOthers" Icon="@Icons.Material.Rounded.RemoveCircle" />
                                            </MudTooltip>
                                            <MudTooltip Text="Click to add more Other">
                                                <MudIconButton Class="p-0 addminbtn" OnClick="() => AddNewOthers(employee.Verify_Id)" Icon="@Icons.Material.Rounded.AddCircle" />
                                            </MudTooltip>
                                        </div>
                                    </div>

                                    @if (listOfOthers.Any())
                                    {
                                        @foreach (var other in listOfOthers)
                                        {
                                            <div class="mb-3 divSchool">
                                                <div class="d-flex flex-wrap gap-lg-4 gap-sm-2 mb-1">
                                                    <div class="flex-grow-1">
                                                        <MudInputLabel>School Type</MudInputLabel>
                                                        <MudTextField @bind-Value="other.OthersSchoolType" Class="txf" DisableUnderLine Margin="Margin.Dense" />
                                                     </div>
                                                    <div class="flex-grow-1">
                                                        <MudInputLabel>Name of School</MudInputLabel>
                                                        <MudTextField @bind-Value="other.OthersSchoolName" Class="txf" DisableUnderLine Margin="Margin.Dense" />
                                                     </div>
                                                     <div class="flex-grow-1">
                                                         <MudInputLabel>School Location</MudInputLabel>
                                                         <MudTextField @bind-Value="other.OthersSchoolLoc" Class="txf" DisableUnderLine Margin="Margin.Dense" />
                                                     </div>
                                                 </div>
                                                 <div class="d-flex flex-wrap gap-lg-4 gap-sm-2">
                                                     <div class="flex-grow-1">
                                                         <MudInputLabel>Award</MudInputLabel>
                                                         <MudTextField @bind-Value="other.OthersAward" Class="txf" DisableUnderLine Margin="Margin.Dense" />
                                                     </div>
                                                     <div class="flex-grow-1">
                                                         <MudInputLabel>Course</MudInputLabel>
                                                         <MudTextField @bind-Value="other.OthersCourse" Class="txf" DisableUnderLine Margin="Margin.Dense" />
                                                     </div>
                                                     <div class="flex-grow-1">
                                                         <MudInputLabel>School Year</MudInputLabel>
                                                         <MudTextField @bind-Value="other.OthersSchoolYear" Class="txf" DisableUnderLine Margin="Margin.Dense" />
                                                     </div>
                                                 </div>
                                             </div>
                                        }
                                    }
                                    else
                                    {
                                        <MudContainer MaxWidth="MaxWidth.ExtraLarge">
                                            <MudCard>
                                                <MudCardContent>
                                                    <p>No Other information available.</p>
                                                </MudCardContent>
                                            </MudCard>
                                        </MudContainer>
                                    }
                                </div>
                                <MudItem xs="12" Class="d-flex justify-content-between mt-5">
                                 <MudButton OnClick="() => Activate(1)" Variant="Variant.Filled" Size="Size.Medium" EndIcon="@Icons.Material.Rounded.NavigateNext" Class="btnadd">Back</MudButton>
                                 <MudButton OnClick="() => Activate(3)" Variant="Variant.Filled" Size="Size.Medium" EndIcon="@Icons.Material.Rounded.NavigateNext" Class="btnadd">Next</MudButton>
                             </MudItem>
                            </MudCardContent>
                        </MudCard>
                    </MudItem>
                }
                <MudItem xs="12" Class="d-flex justify-content-between mt-5">
                    <button Class="btn btnnext" type="button" onclick="@(()=>Activate2(1))" style="background-color: #C5CFD2;">BACK</button>
                    <button Class="btn btnnext" type="button" onclick="@(()=>Activate2(3))">NEXT</button>
                </MudItem>
            </MudGrid>
        </MudTabPanel>

        @* ====================================================================================  LICENCE  ==================================================================================== *@

        <MudTabPanel TabContent="tabHeader(3)">
            <MudGrid>
                <MudItem xs="12" Style="padding-top: 0px;">
                    <MudCard Class="mdcard1" Elevation="0" Style="padding-top: 0px;">
                        <MudCardContent>
                            <div class="d-flex flex-column flex-grow-1">
                                <div class="d-flex flex-grow-1 justify-content-between align-items-center mb-2">
                                    <span class="spantitle">Licences</span>
                                    <div>
                                        <MudTooltip Text="Click to remove Licences">
                                            <MudIconButton Class="p-0 addminbtn" OnClick="RemoveLicense" Icon="@Icons.Material.Rounded.RemoveCircle" />
                                        </MudTooltip>
                                        <MudTooltip Text="Click to add more Licences">
                                            <MudIconButton Class="p-0 addminbtn" OnClick="() => AddNewLicense(employee.Verify_Id)" Icon="@Icons.Material.Rounded.AddCircle" />
                                        </MudTooltip>
                                    </div>
                                </div>
                                @if (listofLicense.Any())
                                {
                                    @foreach (var lis in listofLicense)
                                    {
                                        <div class="mb-3 divSchool">
                                            <div class="d-flex flex-wrap gap-lg-4 gap-sm-2 mb-1">
                                                <div class="flex-grow-1">
                                                    <MudInputLabel>Professional Licenses/Board Examinations Taken</MudInputLabel>
                                                    <MudTextField @bind-Value="lis.Examination" Class="txf" DisableUnderLine Margin="Margin.Dense" />
                                                 </div>
                                                 <div class="flex-grow-1">
                                                     <MudInputLabel>Professional Membership</MudInputLabel>
                                                     <MudTextField @bind-Value="lis.ProfMembership" Class="txf" DisableUnderLine Margin="Margin.Dense" />
                                                 </div>
                                             </div>
                                             <div class="d-flex flex-wrap gap-lg-4 gap-sm-2 align-items-center">
                                                 <div class="flex-grow-1">
                                                     <MudInputLabel>License No.</MudInputLabel>
                                                     <MudTextField @bind-Value="lis.LicenseNo" Class="txf" DisableUnderLine Margin="Margin.Dense" />
                                                 </div>
                                                 <div class="flex-grow-1">
                                                     <MudInputLabel>Date(mm/dd/yy)</MudInputLabel>
                                                     <MudDatePicker Class="txf" DisableUnderLine @bind-Date="lis.Date" Mask="@(new DateMask("MM/dd/yyyy"))" DateFormat="MM/dd/yyyy" Editable="true" Margin="Margin.Dense" />
                                                 </div>
                                             </div>
                                         </div>
                                    }
                                }
                                else
                                {
                                    @foreach (var pri in listofLicense)
                                    {
                                        <MudContainer MaxWidth="MaxWidth.ExtraLarge">
                                            <MudCard>
                                                <MudCardContent>
                                                    <p>No Licenses information available.</p>
                                                </MudCardContent>
                                            </MudCard>
                                        </MudContainer>
                                    }
                                }
                            </div>
                        </MudCardContent>
                    </MudCard>
                </MudItem>
                <MudItem xs="12">
                    <MudCard Class="mdcard1" Elevation="0">
                        <MudCardContent>       
                            <div class="d-flex flex-column flex-grow-1">
                                <div class="d-flex flex-grow-1 justify-content-between align-items-center mb-2">
                                    <span class="spantitle">Trainings</span>
                                    <div>
                                        <MudTooltip Text="Click to remove Trainings">
                                            <MudIconButton Class="p-0 addminbtn" OnClick="RemoveTrainings" Icon="@Icons.Material.Rounded.RemoveCircle" />
                                        </MudTooltip>
                                        <MudTooltip Text="Click to add more Trainings">
                                            <MudIconButton Class="p-0 addminbtn" OnClick="() => AddNewTrainings(employee.Verify_Id)" Icon="@Icons.Material.Rounded.AddCircle" />
                                        </MudTooltip>
                                    </div>
                                </div>
                               
                                @if (listOfTrainings.Any())
                                {
                                    @foreach (var train in listOfTrainings)
                                    {
                                        <div class="mb-3 divSchool">
                                            <div class="d-flex flex-wrap gap-lg-4 gap-sm-2 mb-1 align-items-center">
                                                <div class="flex-grow-1">
                                                    <MudInputLabel>Training Name</MudInputLabel>
                                                    <MudTextField @bind-Value="train.TrainingName" Class="txf" DisableUnderLine Margin="Margin.Dense" />
                                                 </div>
                                                 <div class="flex-grow-1">
                                                     <MudInputLabel>Training Date(mm/dd/yyyy)</MudInputLabel>
                                                     <MudDatePicker Class="txf" DisableUnderLine @bind-Date="train.TrainingDate" Mask="@(new DateMask("MM/dd/yyyy"))" DateFormat="MM/dd/yyyy" Editable="true" Margin="Margin.Dense" />
                                                 </div>
                                                 <div class="flex-grow-1">
                                                     <MudInputLabel>Remarks</MudInputLabel>
                                                     <MudTextField @bind-Value="train.Remarks" Class="txf" DisableUnderLine Margin="Margin.Dense" />
                                                 </div>
                                             </div>
                                         </div>
                                    }
                                }
                                else
                                {
                                    <MudContainer MaxWidth="MaxWidth.ExtraLarge">
                                         <MudCard>
                                             <MudCardContent>
                                                  <p>No Trainings information available.</p>
                                             </MudCardContent>
                                         </MudCard>
                                    </MudContainer>
                                   
                                }
                            </div>
                        </MudCardContent>
                    </MudCard>
                </MudItem>
                 <MudItem xs="12" Class="d-flex justify-content-between mt-5">
                    <button Class="btn btnnext" type="button" onclick="@(()=>Activate2(2))" style="background-color: #C5CFD2;">BACK</button>
                    <button Class="btn btnnext" type="button" onclick="@(()=>Activate2(4))">NEXT</button>
                </MudItem>
            </MudGrid>
        </MudTabPanel>

        @* ====================================================================================  PAYROLL  ==================================================================================== *@

        <MudTabPanel TabContent="tabHeader(4)">
            <MudGrid>
                <EditForm Model="payroll" OnValidSubmit="CreateEmployee" class="d-flex flex-column flex-grow-1" style="margin-top: 13px;">
                    <DataAnnotationsValidator />
                    <MudItem xs="12" Style="padding-top: 0px;">
                    <MudCard Class="mdcard1" Elevation="0" Style="padding-top: 0px;">
                        <MudCardContent>
                            <div class="d-flex flex-column flex-grow-1">
                                <div class="d-flex flex-grow-1 justify-content-between align-items-center mb-2">
                                    <span class="spantitle">Documents</span>
                                </div>
                                <div class="mb-3 divSchool">
                                    <div class="d-flex flex-wrap gap-lg-4 gap-sm-2 mb-1">
                                        <div class="flex-grow-1">
                                            <MudInputLabel>Rate</MudInputLabel>
                                                 <InputText Class="txf1 w-100 mt-1" @bind-Value="payroll.Rate" />
                                                 <ValidationMessage For="@(() => payroll.Rate)" class="mb-2 valmessage" />
                                         </div>
                                         <div class="flex-grow-1">
                                             <MudInputLabel>Rate Type</MudInputLabel>
                                             <MudSelect Class="@slectClasssRT" DisableUnderLine @bind-Value="payroll.RateTypeId" Margin="Margin.Dense">
                                                 <MudSelectItem Value=0 Disabled>---Select---</MudSelectItem>
                                                @foreach (var rate in RateTypeL)
                                                {
                                                    <MudSelectItem Value="@rate.Id">@rate.Name</MudSelectItem>
                                                }
                                            </MudSelect>
                                         </div>
                                          <div class="flex-grow-1">
                                             <MudInputLabel>Cash-Bond</MudInputLabel>
                                                <MudSelect Class="@slectClasssCB" DisableUnderLine @bind-Value="payroll.CashbondId" Margin="Margin.Dense">
                                                 <MudSelectItem Value=0 Disabled>---Select---</MudSelectItem>
                                                @foreach (var cb in CashbondL)
                                                {
                                                    <MudSelectItem Value="@cb.Id">@cb.Name</MudSelectItem>
                                                }
                                            </MudSelect>
                                         </div>
                                     </div>
                                    <div class="d-flex flex-wrap gap-lg-4 gap-sm-2">
                                         <div class="flex-grow-1">
                                             <MudInputLabel>Meal Allowance</MudInputLabel>
                                                 <InputText Class="txf1 w-100 mt-1" @bind-Value="payroll.MealAllowance" />
                                                 <ValidationMessage For="@(() => payroll.MealAllowance)" class="mb-2 valmessage" />
                                         </div>
                                          <div class="flex-grow-1">
                                             <MudInputLabel>Biometric Id No.</MudInputLabel>
                                             <InputText Class="txf1 w-100 mt-1" @bind-Value="payroll.BiometricID" />
                                                 <ValidationMessage For="@(() => payroll.BiometricID)" class="mb-2 valmessage" />
                                         </div>
                                         <div class="flex-grow-1">
                                             <MudInputLabel>Bank Account</MudInputLabel>
                                                <InputText Class="txf1 w-100 mt-1" MaxLength="10" @bind-Value="payroll.BankAcc" />
                                                 <ValidationMessage For="@(() => payroll.BankAcc)" class="mb-2 valmessage" />
                                         </div>
                                     </div>
                                 </div>
                            </div>
                        </MudCardContent>
                    </MudCard>
                </MudItem>
                <MudItem xs="12" Style="padding-top: 0px;">
                    <MudCard Class="mdcard1" Elevation="0" Style="padding-top: 0px;">
                        <MudCardContent>
                            <div class="d-flex flex-column flex-grow-1">
                                <div class="d-flex flex-grow-1 justify-content-between align-items-center mb-2">
                                     <span class="spantitle">Statutory Documents</span>
                                </div>
                                <div class="mb-3 divSchool">
                                    <div class="d-flex flex-wrap gap-lg-4 gap-sm-2 mb-1">
                                         <div class="flex-grow-1">
                                             <MudInputLabel>PHIC No.</MudInputLabel>
                                             <InputText Class="txf1 w-100 mt-1" @bind-Value="payroll.PhilHealthNum" MaxLength="12"/>
                                                 <ValidationMessage For="@(() => payroll.PhilHealthNum)" class="mb-2 valmessage" />
                                         </div>
                                          <div class="flex-grow-1">
                                             <MudInputLabel>HDMF No.</MudInputLabel>
                                             <InputText Class="txf1 w-100 mt-1" @bind-Value="payroll.HDMFNum" MaxLength="12"/>
                                                 <ValidationMessage For="@(() => payroll.HDMFNum)" class="mb-2 valmessage" />
                                         </div>
                                     </div>
                                     <div class="d-flex flex-wrap gap-lg-4 gap-sm-2">
                                         <div class="flex-grow-1">
                                             <MudInputLabel>SSS No.</MudInputLabel>
                                             <InputText Class="txf1 w-100 mt-1" @bind-Value="payroll.SSSNum" MaxLength="12"/>
                                                 <ValidationMessage For="@(() => payroll.SSSNum)" class="mb-2 valmessage" />
                                         </div>
                                          <div class="flex-grow-1">
                                             <MudInputLabel>TIN No.</MudInputLabel>
                                                <InputText Class="txf1 w-100 mt-1" @bind-Value="payroll.TINNum" MaxLength="12" />
                                                 <ValidationMessage For="@(() => payroll.TINNum)" class="mb-2 valmessage" />
                                         </div>
                                     </div>
                                 </div>
                            </div>
                        </MudCardContent>
                    </MudCard>
                </MudItem>
                 <MudItem xs="12" Style="padding-top: 0px;">
                     <MudCard Class="mdcard1" Elevation="0" Style="padding-top: 0px;">
                         <MudCardContent>
                             <div class="d-flex flex-column flex-grow-1">
                                 <div class="d-flex flex-grow-1 justify-content-between align-items-center mb-2">
                                     <span class="spantitle">Schedule</span>
                                 </div>
                                 <div class="mb-3 divSchool">
                                     <div class="d-flex flex-wrap gap-lg-4 gap-sm-2 mb-1">
                                         <div class="flex-grow-1">
                                             <MudInputLabel>Schedule Type</MudInputLabel>
                                                <MudSelect Class="@slectClasssST" DisableUnderLine @bind-Value="payroll.ScheduleTypeId" Margin="Margin.Dense">
                                                 <MudSelectItem Value=0 Disabled>---Select---</MudSelectItem>
                                                @foreach (var sched in ScheduleTypeL)
                                                {
                                                    <MudSelectItem Value="@sched.Id">@sched.Name</MudSelectItem>
                                                }
                                            </MudSelect>
                                         </div>
                                         @if (payroll.ScheduleTypeId != 0) {
                                            <div class="flex-grow-1">
                                                <MudInputLabel>Time In</MudInputLabel>

                                                @foreach (var item in ScheduleTypeL.Where(s => s.Id == payroll.ScheduleTypeId))
                                                {
                                                    if (item.Id == payroll.ScheduleTypeId)
                                                    {
                                                        <MudTextField @bind-Value="item.TimeIn" Class="txf" DisableUnderLine Margin="Margin.Dense" ReadOnly="true"/>
                                                    }
                                                }
                                            </div>
                                            <div class="flex-grow-1">
                                                <MudInputLabel>Time In</MudInputLabel>

                                                @foreach (var item in ScheduleTypeL.Where(s => s.Id == payroll.ScheduleTypeId))
                                                {
                                                    if (item.Id == payroll.ScheduleTypeId)
                                                    {
                                                        <MudTextField @bind-Value="item.TimeOut" Class="txf" DisableUnderLine Margin="Margin.Dense" ReadOnly="true" />
                                                    }
                                                }
                                            </div>
                                        }
                                        else
                                        {
                                             <div class="flex-grow-1">
                                                <MudInputLabel>Time In</MudInputLabel>
                                                <MudTextField T="string" Class="txf" DisableUnderLine Margin="Margin.Dense" ReadOnly="true" />
                                             </div>
                                            <div class="flex-grow-1">
                                                <MudInputLabel>Time In</MudInputLabel>
                                                <MudTextField T="string" Class="txf" DisableUnderLine Margin="Margin.Dense" ReadOnly="true" />
                                             </div>
                                        }

                                     </div>
                                    <div class="d-flex flex-wrap gap-lg-4 gap-sm-2 mb-1 align-items-center">
                                        <div class="flex-grow-1">
                                            <MudInputLabel>Rest Day</MudInputLabel>
                                                <MudSelect Class="@slectClasssRD" DisableUnderLine @bind-Value="payroll.RestDayId" Margin="Margin.Dense">
                                                 <MudSelectItem Value=0 Disabled>---Select---</MudSelectItem>
                                                @foreach (var restday in RestDayL)
                                                {
                                                    <MudSelectItem Value="@restday.Id">@restday.Name</MudSelectItem>
                                                }
                                            </MudSelect>
                                         </div>
                                         <MudSpacer/>
                                     </div>
                                 </div>
                             </div>
                         </MudCardContent>
                     </MudCard>
                 </MudItem>
                <MudItem xs="12" Style="padding-top: 0px;">
                    <MudCard Class="mdcard1" Elevation="0" Style="padding-top: 0px;">
                        <MudCardContent>
                            <div class="d-flex flex-column flex-grow-1">
                                <div class="d-flex flex-grow-1 justify-content-between align-items-center mb-2">
                                    <span class="spantitle">Files</span>
                                </div>
                                <div class="mb-3 divSchool">
                                    <div class="d-flex flex-wrap gap-lg-4 gap-sm-2 mb-1">
                                        <div class="flex-grow-1">
                                            @for (int i = 0; i < listOfDocuments.Count; i++)
                                            {
                                                var index = i;
                                                var docs = listOfDocuments[i];
                                                @if (docs.PdfFile != null)
                                                {
                                                <MudText Typo="@Typo.h6">@docs.PdfFile.Count() File@(docs.PdfFile.Count() == 1 ? "" : "s"):</MudText>
                                                <MudList>
                                                    @foreach (var file in docs.PdfFile)
                                                    {
                                                        <MudListItem Icon="@Icons.Material.Filled.AttachFile" @key="@file">

                                                            @file.Name <code>@file.Size bytes</code>
                                                        </MudListItem>
                                                    }
                                                </MudList>
                                                    <MudCardActions Style="display:flex; justify-content: center; padding-bottom:10px; margin-bottom:-15px;">
                                                        <MudFileUpload T="IBrowserFile" OnFilesChanged="e => UpPdfSec12(e, index)" Accept=".pdf">
                                                                <ButtonTemplate Context="fileContext">
                                                                    <MudButton HtmlTag="label" Variant="Variant.Filled" Color="Color.Primary" StartIcon="@Icons.Material.Filled.CloudUpload" for="@fileContext" Style="text-transform: none;">Upload Files</MudButton>
                                                            </ButtonTemplate>
                                                        </MudFileUpload>
                                                    </MudCardActions>
                                                }
                                            }
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </MudCardContent>
                    </MudCard>
                </MudItem>
                <MudItem xs="12" Class="d-flex justify-content-between mt-5">
                    <button Class="btn btnnext" type="button" onclick="@(()=>Activate2(3))" style="background-color: #C5CFD2;">BACK</button>
                    <button Class="btn btnnext" type="submit">SUBMIT</button>
                </MudItem>
                </EditForm>
            </MudGrid>
        </MudTabPanel>
    </MudTabs>
</div>

@code {
    
}
